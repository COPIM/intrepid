from django.db import migrations, models


def mark_frontend_site_texts(apps, schema_editor):
    SiteText = apps.get_model('cms', 'SiteText')

    frontend_keys = [
        '2fa_backup',
        '2fa_backup_phone',
        '2fa_calling',
        '2fa_last_resort',
        '2fa_last_resort_button',
        '2fa_text',
        '2fa_token',
        'account_email',
        'activate_account',
        'activate_new_account',
        'add',
        'add_search',
        'add_to_quote',
        'add_to_search',
        'advanced_search',
        'agree_terms_of_signup',
        'all_initiatives',
        'all_subjects',
        'approval',
        'approval_description',
        'approve_this_signup',
        'approved_by_initiative',
        'approved_by_provider',
        'auth_step_info',
        'author',
        'author_search_note',
        'baskets_active_quote',
        'baskets_anon',
        'baskets_header',
        'baskets_sub_header',
        'board_of_stewards',
        'books',
        'books_header',
        'books_sub_header',
        'build_advanced_search',
        'build_your_quote',
        'change',
        'change_country',
        'change_my_password',
        'close',
        'close_quote',
        'collection_collectiv',
        'collections_and_collectives',
        'collective_catalogue',
        'collective_catalogue_description',
        'completed_order',
        'confirm_password',
        'contact_details',
        'contact_details_description',
        'contact_email',
        'contact_us',
        'cost',
        'create_account',
        'create_add_packages',
        'date_newest',
        'date_oldest',
        'delete',
        'delete_all_terms',
        'doi',
        'download_formats',
        'download_order_documents',
        'download_quotation',
        'email',
        'email_us',
        'enter_new_password_twice',
        'external',
        'filters',
        'finance_committee',
        'find_out_more',
        'first',
        'forgot_your_password',
        'free_text',
        'included_in',
        'included_in_packages',
        'included_packages',
        'initiative',
        'initiative_packages',
        'initiatives',
        'initiatives_subhead',
        'invoice_status',
        'keyword',
        'keywords',
        'last',
        'latest_titles',
        'log_in',
        'login',
        'login_error',
        'login_info',
        'login_to_see_page',
        'manage_your_searches',
        'management_team',
        'membership_committee',
        'membership_offer',
        'metadata_formats',
        'months_contract',
        'more_info',
        'name',
        'new_password',
        'news',
        'next',
        'no_abstract',
        'no_access_info',
        'no_active_quotes',
        'no_packages_display',
        'no_packages_standards',
        'no_results',
        'no_standards',
        'not_approved',
        'number_of_packages',
        'oa_inits_header',
        'oa_inits_sub_header',
        'of',
        'only_in_collectives',
        'open_book_collective',
        'open_quote',
        'or_try_the',
        'order_approval',
        'order_com_contact',
        'order_complete_body',
        'order_complete_body_partial',
        'order_complete_contact',
        'order_complete_message',
        'order_complete_number',
        'order_docs',
        'order_docs_info',
        'order_documents',
        'order_documents_button',
        'order_documents_description',
        'order_documents_info',
        'order_form',
        'order_form_sub_h',
        'order_number',
        'order_text_1',
        'order_text_2',
        'order_text_3',
        'orders_and_documents',
        'package',
        'package_media_files',
        'package_name',
        'packages',
        'page',
        'page_of',
        'password',
        'password_reset_form_instructions',
        'password_reset_instructions',
        'password_reset_no_email',
        'password_set_info',
        'payment_processor',
        'per_year',
        'post_login_info',
        'previous',
        'previous_board_members',
        'pricing',
        'pricing_country',
        'publisher_landing_page',
        'publisher_links',
        'publishers_and_service_providers',
        'quotation_details',
        'quotation_generated',
        'quotation_name',
        'quotation_reference',
        'quotations',
        'recommended',
        'register',
        'register_a_new_account',
        'register_for_the_open_book_collective',
        'remove',
        'repeat_email',
        'repeat_password',
        'reset_password',
        'reset_search',
        'reset_your_password',
        'save_this_search',
        'search',
        'search_configuration',
        'search_the_catalogue',
        'secretariat',
        'select_an_initiative',
        'sign_in_to_account',
        'sign_up',
        'sort',
        'standards',
        'standards_attestation_history',
        'standards_info',
        'summary',
        'thanks_for_your_interest',
        'topics',
        'type',
        'updates_from_the_open_book_collective',
        'username',
        'username_email_info',
        'value',
        'view',
        'view_attestation_history',
        'view_biography',
        'who_we_are',
        'who_we_are_subhead',
        'your_order_post',
        'your_order_pre',
        'your_quotation',
    ]

    SiteText.objects.filter(key__in=frontend_keys).update(frontend=True)


class Migration(migrations.Migration):

    dependencies = [
        ('cms', '0041_auto_20241125_1147'),
    ]

    operations = [
        migrations.AddField(
            model_name='sitetext',
            name='frontend',
            field=models.BooleanField(default=False),
        ),
        migrations.RunPython(mark_frontend_site_texts),
    ]
